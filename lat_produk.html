<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Produk - Kopi Nusantara</title>
    <link href="https://fonts.google.com/specimen/Trocchi?categoryFilters=Serif:%2FSerif%2FScotch" rel="stylesheet">
    <link rel="stylesheet" href="lat_style.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="images/logokopnus.png" alt="Logo UMKM" width="40" height="40"/>Kopi Nusantara
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="lat_index.html">Beranda</a></li>
                    <li class="nav-item"><a class="nav-link" href="lat_tentang.html">Tentang Kami</a></li>
                    <li class="nav-item"><a class="nav-link active" href="lat_produk.html">Produk</a></li>
                    <li class="nav-item"><a class="nav-link" href="lat_galeri.html">Galeri</a></li>
                    <li class="nav-item"><a class="nav-link" href="lat_kontak.html">Kontak</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <header class="hero">
        <div class="container">
            <h2>Produk Unggulan Kami</h2>
            <p>Menikmati cita rasa khas Nusantara dari biji kopi pilihan terbaik.</p>
        </div>
    </header>

    <main class="container">
        <section>
            <h2>Daftar Produk Kopi Nusantara</h2>
            <p>Berikut daftar kopi lokal berkualitas yang kami sediakan:</p>

            <table>
                <thead>
                    <tr>
                        <th>Produk</th>
                        <th>Ukuran</th>
                        <th>Harga</th>
                        <th>Jenis Kopi</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Kopi Arabika Gayo</td>
                        <td>250g</td>
                        <td>Rp 45.000</td>
                        <td rowspan="2" style="text-align:center;">Arabika</td>
                    </tr>
                    <tr>
                        <td>Kopi Arabika Petungkriyono</td>
                        <td>300g</td>
                        <td>Rp 48.500</td>
                    </tr>
                    <tr>
                        <td>Kopi Robusta Batang</td>
                        <td>250g</td>
                        <td>Rp 46.000</td>
                        <td rowspan="3" style="text-align:center;">Robusta</td>
                    </tr>
                    <tr>
                        <td>Kopi Robusta Temanggung</td>
                        <td>250g</td>
                        <td>Rp 38.000</td>
                    </tr>
                    <tr>
                        <td>Kopi Robusta Linggoasri</td>
                        <td>225g</td>
                        <td>Rp 35.000</td>
                    </tr>
                    <tr>
                        <td>Kopi Liberika Riau</td>
                        <td>250g</td>
                        <td>Rp 42.000</td>
                        <td style="text-align:center;">Liberika</td>
                    </tr>
                    <tr>
                        <td colspan="4" style="text-align:center; background-color:#eee;">
                            Semua harga sudah termasuk PPN
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <div class="container my-5">
            <h2 class="mb-4">Daftar Produk Kami</h2>
            <div class="row g-4">
                <div class="container my-5">
                    <div class="row g-4">
                        <div class="col-md-4">
                            <div class="card">
                                <img src="images/roastedcoffeebeans.jpg" class="card-img-top" alt="Kopi Arabika Gayo">
                                <div class="card-body">
                                    <h5 class="card-title">Kopi Arabika Gayo</h5>
                                    <p class="card-text">Kopi asal dataran tinggi Gayo dengan cita rasa asam segar.</p>
                                    <p class="fw-bold">Rp 45.000</p>
                                    <a href="#" class="btn btn-primary btn-beli">Beli Sekarang</a>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card">
                                <img src="images//close-up-hand-pouring-coffee-water-into-coffee-cup-international-coffee-day-concept (1).jpg" class="card-img-top" alt="Kopi Robusta">
                                <div class="card-body">
                                    <h5 class="card-title">Kopi Robusta Temanggung</h5>
                                    <p class="card-text">Kopi bold dengan rasa pahit nikmat khas temanggung.</p>
                                    <p class="fw-bold">Rp 38.000</p>
                                    <a href="#" class="btn btn-primary btn-beli">Beli Sekarang</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <h3>Layanan Unggulan:</h3>
    <ul id="layanan-list"></ul>

    <h3>Form Pemesanan</h3>
    <form onsubmit="return cekForm()">
        <input type="text" id="namaProduk" placeholder="Nama Produk"><br>
        <input type="number" id="jumlah" placeholder="Jumlah"><br>
        <input type="number" id="harga" placeholder="Harga per produk"><br>
        <button type="submit">Pesan</button>
    </form>

    <h3>Cek Kategori Usia Pelanggan</h3>
    <input type="number" id="usia" placeholder="Masukkan usia">
    <button onclick="cekUsia()">Cek Kategori</button>
    <p id="hasil-usia"></p>

    <section id="testimoni">
        <h3>Testimoni Pelanggan</h3>
        <div id="daftar-testimoni"></div>
    </section>

    <h3>Daftar Wishlist Produk</h3>

    <form>
        <input type="text" id="produkInput" placeholder="Nama produk..."/>
        <p>Preview: <span id="previewProduk"></span></p>
        <button id="tambahBtn">Tambah Produk</button>
    </form>

    <ul id="daftarProduk"></ul>

    <hr/>

    <label for="temaSelect">Pilih Tema Warna: </label>
    <select id="temaSelect">
        <option value="white">Putih</option>
        <option value="lightblue">Biru Muda</option>
        <option value="lightyellow">Kuning Muda</option>
    </select>

    <footer>
        <p>&copy; 2025 Kopi Nusantara. Semua hak dilindungi.</p>
    </footer>
    <script>
    // --- 1. LOGIKA JQUERY (Alert Tombol Beli) ---
    $(document).ready(function(){
        // Ketika tombol dengan class 'btn-beli' diklik
        $(".btn-beli").click(function(e){
            e.preventDefault(); 
            alert("Terima kasih, produk akan segera diproses!");
        });
    });

    // --- 2. LOGIKA RATING ---
    let rating = 4.6;
    const ratingEl = document.getElementById("hasil-rating");
    // Cek apakah elemen ada sebelum diisi (menghindari error null)
    if (ratingEl) {
        if (rating >= 4.5) {
            ratingEl.textContent = "★★★★★ Sangat Disarankan";
        } else if (rating >= 3) {
            ratingEl.textContent = "★★★ Rekomendasi Biasa";
        } else {
            ratingEl.textContent = "★ Tidak Direkomendasikan";
        }
    }

    // --- 3. LOGIKA LAYANAN ---
    let layanan = ["Gratis Ongkir", "Bayar di Tempat", "Garansi 30 Hari"];
    const layananList = document.getElementById("layanan-list");
    if(layananList){
        layanan.forEach(function(item) {
            let li = document.createElement("li");
            li.textContent = item;
            layananList.appendChild(li);
        });
    }

    // --- 4. LOGIKA FORM PEMESANAN & HITUNG TOTAL ---
    function hitungTotal(harga, jumlah) {
        return harga * jumlah;
    }

    function cekForm() {
        let nama = document.getElementById("namaProduk").value;
        // Gunakan parseInt/parseFloat untuk angka
        let jumlah = parseInt(document.getElementById("jumlah").value);
        let harga = parseInt(document.getElementById("harga").value);

        // Validasi input
        if (nama === "" || isNaN(jumlah) || isNaN(harga)) {
            alert("Semua kolom wajib diisi dengan benar.");
            return false;
        }
        
        if (jumlah <= 0) {
            alert("Jumlah harus lebih dari 0");
            return false;
        }

        let total = hitungTotal(harga, jumlah);
        alert("Pemesanan Berhasil!\nTotal belanja Anda: Rp " + total.toLocaleString());
        return true;
    }

    // --- 5. LOGIKA CEK USIA ---
    function cekUsia() {
        let usia = document.getElementById("usia").value;
        let kategori = "";

        if (usia === "") {
            kategori = "Masukkan angka usia!";
        } else if (usia < 13) {
            kategori = "Anak-anak";
        } else if (usia >= 13 && usia <= 17) {
            kategori = "Remaja";
        } else if (usia >= 18 && usia <= 60) {
            kategori = "Dewasa";
        } else if (usia > 60) {
            kategori = "Lansia";
        } 

        document.getElementById("hasil-usia").textContent = "Kategori: " + kategori;
    }

    // --- 6. LOGIKA TESTIMONI ---
    let testimoni = [
        "Rasa kopinya kuat dan aromanya khas Nusantara!",
        "Pelayanan cepat dan ramah.",
        "Kemasan aman, kualitas terjamin.",
        "Harga terjangkau, cocok untuk pecinta kopi sejati.",
        "Kopi favorit saya setiap pagi!"
    ];

    let container = document.getElementById("daftar-testimoni");
    if(container){
        testimoni.forEach(function(teks, index) {
            let p = document.createElement("p");
            p.textContent = (index + 1) + ". " + teks;
            container.appendChild(p);
        });
    }

    // --- 7. DOM CONTENT LOADED (Wishlist & Tema) ---
    document.addEventListener("DOMContentLoaded", function () {
        const produkInput = document.getElementById("produkInput");
        const tambahBtn = document.getElementById("tambahBtn");
        const daftarProduk = document.getElementById("daftarProduk");
        const previewProduk = document.getElementById("previewProduk");
        const temaSelect = document.getElementById("temaSelect");

        // A. Tambah produk ke daftar (click)
        if(tambahBtn) {
            tambahBtn.addEventListener("click", function (e) {
                e.preventDefault();

                const namaProduk = produkInput.value.trim();
                if (namaProduk !== "") {
                    const li = document.createElement("li");
                    li.textContent = namaProduk;

                    // Event hover (Vanilla JS)
                    li.addEventListener("mouseover", () => li.style.backgroundColor = "#e0e0e0");
                    li.addEventListener("mouseout", () => li.style.backgroundColor = "");

                    // Event hapus (dblclick)
                    li.addEventListener("dblclick", () => {
                        if (confirm("Yakin ingin menghapus produk ini?")) {
                            li.remove();
                        }
                    });

                    daftarProduk.appendChild(li);
                    
                    // PERBAIKAN DI SINI: variable yang benar adalah produkInput
                    produkInput.value = ""; 
                    previewProduk.textContent  = "";
                }
            });
        }

        // B. Preview input secara langsung (keyup)
        if(produkInput){
            produkInput.addEventListener("keyup", function() {
                // PERBAIKAN DI SINI: Harusnya update teks preview, bukan ganti warna background
                previewProduk.textContent = produkInput.value;
            });
        }

        // C. Ganti Tema Warna (change) - Fitur baru ditambahkan agar dropdown berfungsi
        if(temaSelect){
            temaSelect.addEventListener("change", function(){
                document.body.style.backgroundColor = temaSelect.value;
            });
        }
    });
</script>
</body>
</html>
